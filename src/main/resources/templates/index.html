<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>森林书城-让阅读更加简单</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="/bootstrap-3.3.7-dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/bootstrap-3.3.7-dist/main.css"/>
    <script src="/bootstrap-3.3.7-dist/js/test.js" type="text/javascript"></script>
    <script src="/bootstrap-3.3.7-dist/js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>

</head>
<body>
<!--导航栏-->
<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <a href="index" class="navbar-brand"></a>
        </div>
        <ul class="nav navbar-nav">
            <li><a href="index">主页-书城</a></li>
            <li><a href="rankingList">排行榜</a></li>
            <li><a href="community">社区</a></li>
            <li><a href="cart">购物车</a></li>
            <li><a href="orders">我的订单</a></li>
            <li><a href="userCenter">个人中心</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right" th:if="${username==null}">
            <li><a href="login">登录</a></li>
            <li><a href="signup">注册</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right" th:if="${username!=null}">
            <li><a href="userCenter" th:text="${username}"></a></li>
            <li><a href="loginout" >注销</a></li>
        </ul>

    </div>
</nav>

<div class="container">
    <div style="width:1200px;height: 175px ; margin: auto" >
        <img src="/img/showup.jpg" width="100%" height="100%" >
    </div>
</div>

<div class="container" style="margin-top: 10px">
    <div class="row">
        <div class="col-sm-9">
            <ul class="nav nav-tabs">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        教育
                    </a>
                    <ul class="dropdown-menu">
                        <li><a  class="typeItem">教材</a></li>
                        <li><a href="#" class="typeItem">外语</a></li>
                        <li><a href="#" class="typeItem">教辅</a></li>
                        <li><a href="#" class="typeItem">工具书</a></li>
                        <!--  <li class="divider"></li>
                           <li><a href="#">分离的链接</a></li>
                           -->
                    </ul>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        文学
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="typeItem">文学</a></li>
                        <li><a href="#" class="typeItem">传记</a></li>
                        <li><a href="#" class="typeItem">艺术</a></li>
                        <li><a href="#" class="typeItem">摄影</a></li>
                        <!--  <li class="divider"></li>
                           <li><a href="#">分离的链接</a></li>
                           -->
                    </ul>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        管理
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="typeItem">经济</a></li>
                        <li><a href="#" class="typeItem">管理</a></li>
                        <li><a href="#" class="typeItem">投资理财</a></li>
                        <!--  <li class="divider"></li>
                           <li><a href="#">分离的链接</a></li>
                           -->
                    </ul>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        休闲
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="typeItem">休闲</a></li>
                        <li><a href="#" class="typeItem">时尚</a></li>
                        <li><a href="#" class="typeItem">旅游</a></li>
                        <li><a href="#" class="typeItem">家居</a></li>
                        <!--  <li class="divider"></li>
                           <li><a href="#">分离的链接</a></li>
                           -->
                    </ul>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        专业
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="typeItem">科普读物</a></li>
                        <li><a href="#" class="typeItem">建筑</a></li>
                        <li><a href="#" class="typeItem">医学</a></li>
                        <li><a href="#" class="typeItem">计算机/网络</a></li>
                        <li><a href="#" class="typeItem">农业/林业</a></li>
                        <li><a href="#" class="typeItem">工业</a></li>
                     <!--  <li class="divider"></li>
                        <li><a href="#">分离的链接</a></li>
                        -->
                    </ul>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        小说
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="typeItem">世界名著</a></li>
                        <li><a href="#" class="typeItem">当代小说</a></li>
                        <li><a href="#" class="typeItem">言情小说</a></li>
                        <!--  <li class="divider"></li>
                           <li><a href="#">分离的链接</a></li>
                           -->
                    </ul>
                </li>
            </ul>
        </div>
        <div class="col-sm-3" style="margin-top: 8px">
            <div class="form-group">
                <form id="searchForm" action="" method="post">
                    <input id="condi1" name="condi1" type="text" class="form-control" placeholder="搜索书名" />
                    <input id="findButton" type="button" value="查找" class="btn btn-default" />
                    <input id="reset" type="reset" class="btn btn-default"/>
                </form>
            </div>
        </div>
    </div>
</div>

<!--固定宽度，支持响应式布局的容器-->
<div class="container">
    <!--网格布局,12列分配-->
    <div class="row">
        <!--左书本展示区 ，展示搜索结果-->
        <div class="col-sm-9"><!--书本展示区 -->
            <!--提示栏-->
            <div class="container">
                <label style="color: red;">最新上架</label>
            </div>
            <div id="showBooks" class="post-list" > <!--书本表单-->

                <div th:each="book:${books}" > <!--书本表单-->
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                        <div class="speical speical-default speical-radius">
                            <div class="shape">
                                <div class="shape-text">
                                    促销
                                </div>
                            </div>
                            <div class="speical-content">
                                <h5 class="text-special-default" th:text="${book.bookname}"/>
                                <p>
                                    <img class="img-responsive img-rounded" th:src="${book.bookpic}" alt="MI">
                                </p>
                                价格：
                                <p class="text-special-default" th:text="${book.bookprprice}+元"/>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
        <!--right右框-->
        <div class="col-sm-3">
            <ul class="list-group">
                <li class="list-group-item">全新正版图书
                    <span class="badge">新</span>
                </li>
                <li class="list-group-item">精品包装</li>
                <li class="list-group-item">线上交易隔日达</li>
                <li class="list-group-item">
                    <span class="badge">新</span>
                    超多折扣优惠
                </li>
            </ul>
            <div class="side-bar-well clearfix">
                <div class="col-sm-5"><img src="/img/1-1.png"/></div>
                <div class="col-sm-7">
                    <p class="side-bar-well-title">
                        网上有害信息举报专区
                    </p>
                    <p>举报电话：12315</p>
                </div>
            </div>
            <div class="side-bar-well">
                <strong class="side-bar-well-title">
                    很多人都在关注
                </strong>
                <a href="#" class="news-item">
                    <div class="news-title">Consectetur adipisicing elit. Consequuntur aut</div>
                    <div class="news-info">
                        5.9万次播放 ⋅ 167评论
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>

<div class="footer">
    © 2018 森林书城-网罗万象 中国互联网举报中心京ICP证1401号京ICP备125439号-3京公网安备
</div>
<script th:line="javascript">

    //按书名查找
    $(function () {
        $("#findButton").click(function (e) {
            /*id选择器点击事件，提交查询条件*/
            var name = $( "input[name = 'condi1']").val();
            console.log('搜索书名'+name);
            $.ajax({
                url: "findByName",
                data: {"name": name},
                type: "post",
                success: function (data) {
                    console.log('FindByName success!');
                    $("#showBooks").html(data);
                    console.log('div flash');
                }
            });
        });
    });

    //获取<span>标签内置文本，显示同类书
    $(function () {
        $(".typeItem").click(function (e) {
         //   alert(this.innerHTML);
            var typeName = this.innerHTML;
            console.log(typeName);
            //发送ajax请求
            $.ajax({
                url: "findByType",
                data: {"type": typeName},
                type: "POST",
                success: function (data) {
                    console.log('FindByType success!');
                    $("#showBooks").html(data);
                    console.log('div flash');

                },
                error:function(error){alert(error);}
            });
        });
    });

</script>
</body>
</html>