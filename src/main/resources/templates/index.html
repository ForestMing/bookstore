<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>森林书城-让阅读更加简单</title>
    <link rel="stylesheet" type="text/css" href="/bootstrap-3.3.7-dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/bootstrap-3.3.7-dist/main.css"/>
    <script src="/bootstrap-3.3.7-dist/js/test.js" type="text/javascript"></script>
    <script src="/bootstrap-3.3.7-dist/js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>
    <!--背景图
    <style>
        body {
            background-image: url(/img/long.jpg);
            background-repeat: repeat-x;
            background-position: center;
        }
    </style>
    -->
</head>
<body>
<!--首部导航栏-->
<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <a href="index" class="navbar-brand"></a>
        </div>
        <ul class="nav navbar-nav">
            <li><a href="index">主页-书城</a></li>
            <li><a href="rankingList">排行榜</a></li>
            <li><a href="community">社区</a></li>
            <li><a href="cart">购物车</a></li>
            <li><a href="orders">我的订单</a></li>
            <li><a href="userCenter">个人中心</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right" th:if="${username==null}">
            <li><a href="login">登录</a></li>
            <li><a href="signup">注册</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right" th:if="${username!=null}">
            <li><a href="userCenter" th:text="${username}"></a></li>
            <li><a href="loginout" >注销</a></li>
        </ul>

    </div>
</nav>

<!--图片轮播区-->
<div id="myCarousel" class="carousel slide">
    <!-- 轮播（Carousel）指标 -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active" ></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>

    <!-- 轮播（Carousel）项目 -->
    <div class="carousel-inner"
         style="margin: auto ; height: 259px ; width: 780px" >
        <div class="item active" >
            <img src="/img/center1.jpg" alt="First slide">
        </div>
        <div class="item">
            <img src="/img/center2.jpg" alt="Second slide">
        </div>
        <div class="item">
            <img src="/img/center3.jpg" alt="Third slide">
        </div>
    </div>
    <!-- 轮播（Carousel）导航 -->
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<!--分类/搜索区-->
<nav class="navbar navbar-default" role="navigation">
    <div class="container" style="margin-top: 10px">
        <div class="row">
            <div class="col-sm-12">

                <div class="navbar-collapse">
                    <ul class="nav navbar-nav" style="font-size: medium ;">
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                教育
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="typeItem">教材</a></li>
                                <li><a href="#" class="typeItem">外语</a></li>
                                <li><a href="#" class="typeItem">教辅</a></li>
                                <li><a href="#" class="typeItem">工具书</a></li>
                                <!--  <li class="divider"></li>
                                   <li><a href="#">分离的链接</a></li>
                                   -->
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                文学
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="typeItem">文学</a></li>
                                <li><a href="#" class="typeItem">传记</a></li>
                                <li><a href="#" class="typeItem">艺术</a></li>
                                <li><a href="#" class="typeItem">摄影</a></li>
                                <!--  <li class="divider"></li>
                                   <li><a href="#">分离的链接</a></li>
                                   -->
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                管理
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="typeItem">经济</a></li>
                                <li><a href="#" class="typeItem">管理</a></li>
                                <li><a href="#" class="typeItem">投资理财</a></li>
                                <!--  <li class="divider"></li>
                                   <li><a href="#">分离的链接</a></li>
                                   -->
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                休闲
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="typeItem">休闲</a></li>
                                <li><a href="#" class="typeItem">时尚</a></li>
                                <li><a href="#" class="typeItem">旅游</a></li>
                                <li><a href="#" class="typeItem">家居</a></li>
                                <!--  <li class="divider"></li>
                                   <li><a href="#">分离的链接</a></li>
                                   -->
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                专业
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="typeItem">科普读物</a></li>
                                <li><a href="#" class="typeItem">建筑</a></li>
                                <li><a href="#" class="typeItem">医学</a></li>
                                <li><a href="#" class="typeItem">计算机/网络</a></li>
                                <li><a href="#" class="typeItem">农业/林业</a></li>
                                <li><a href="#" class="typeItem">工业</a></li>
                                <!--  <li class="divider"></li>
                                   <li><a href="#">分离的链接</a></li>
                                   -->
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                小说
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="#" class="typeItem">世界名著</a></li>
                                <li><a href="#" class="typeItem">当代小说</a></li>
                                <li><a href="#" class="typeItem">言情小说</a></li>
                                <!--  <li class="divider"></li>
                                   <li><a href="#">分离的链接</a></li>
                                   -->
                            </ul>
                        </li>
                    </ul>


                    <form class="navbar-form navbar-right" id="searchForm" action="" method="post">
                        <div class="form-group">
                            <input id="condi1" name="condi1" type="text" class="form-control" placeholder="搜索书名"/>
                            <input id="findButton" type="button" value="查找" class="btn btn-primary"/>
                            <input id="reset" type="reset" class="btn btn-default"/>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</nav>

<!--书本展示区-->
<div class="container">
    <!--网格布局,12列分配-->
    <div class="row">
        <!--左书本展示区 ，展示搜索结果-->
        <div class="col-sm-9"><!--书本展示区 -->
            <!--提示栏-->
            <div class="container" >
                <label style="color: red;" th:if="${popbooks!=null}">很多人浏览了</label>
            </div>
            <div id="showBooks" class="post-list" > <!--书本展示DIV-->
                <div th:each="book:${popbooks}"> <!--书本表单-->
                    <div class="col-sm-6 col-md-3">
                        <div class="thumbnail">
                            <img th:src="${book.bookpic}" alt="通用的占位符缩略图"
                                 style="margin-top: 2px ; width: 200px" >
                            <h6 style="height: 2px" th:text="${book.bookname}" ></h6>
                            <div class="caption">
                                <p class="text-special-default" th:text="售价：+${book.bookprprice}+元"/>
                                <p>
                                    <button class="btn btn-primary" role="button"
                                            th:onclick="'javascript:ItemClick1('+${book.bookid}+')'">
                                        详情
                                    </button>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--right右框-->
        <div class="col-sm-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        热门搜索
                    </h3>
                </div>
                <div class="panel-body" >
                    <p>SpringBoot实战</p>
                    <p>HTML5前端开发</p>
                    <p>CSS3前端开发</p>
                    <p>Bootstrap响应式框架</p>
                </div>
            </div>
            <div class="side-bar-well clearfix">
                <div class="col-sm-5"><img class="img-responsive" src="/img/1-1.png"/></div>
                <div class="col-sm-7">
                    <p class="side-bar-well-title">
                        网上有害信息举报专区
                    </p>
                    <p>举报电话：12315</p>
                </div>
            </div>
            <div class="side-bar-well">
                <strong class="side-bar-well-title">
                    很多人都在关注
                </strong>
                <a href="#" class="news-item">
                    <div class="news-title">Consectetur adipisicing elit. Consequuntur aut</div>
                    <div class="news-info">
                        5.9万次播放 ⋅ 167评论
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>

<div class="footer">
    © 2018 森林书城-网罗万象 中国互联网举报中心京ICP证1401号京ICP备125439号-3京公网安备
</div>
<script th:line="javascript">

    //按书名查找
    $(function () {
        $("#findButton").click(function (e) {
            /*id选择器点击事件，提交查询条件*/
            var name = $( "input[name = 'condi1']").val();
            console.log('搜索书名'+name);
            $.ajax({
                url: "findByName",
                data: {"name": name},
                type: "post",
                success: function (data) {
                    console.log('FindByName success!');
                    $("#showBooks").html(data);
                    console.log('div flash');
                }
            });
        });
    });

    //获取<span>标签内置文本，显示同类书
    $(function () {
        $(".typeItem").click(function (e) {
         //   alert(this.innerHTML);
            var typeName = this.innerHTML;
            console.log(typeName);
            //发送ajax请求
            $.ajax({
                url: "findByType",
                data: {"type": typeName},
                type: "POST",
                success: function (data) {
                    console.log('FindByType success!');
                    $("#showBooks").html(data);
                    console.log('div flash');

                },
                error:function(error){alert(error);}
            });
        });
    });

    function ItemClick1(bookid){
        window.open('details?id='+bookid);
    }

    //轮播js
    $(function(){
        // 初始化轮播
        $(".start-slide").click(function(){
            $("#myCarousel").carousel('cycle');
        });
        // 停止轮播
        $(".pause-slide").click(function(){
            $("#myCarousel").carousel('pause');
        });
        // 循环轮播到上一个项目
        $(".prev-slide").click(function(){
            $("#myCarousel").carousel('prev');
        });
        // 循环轮播到下一个项目
        $(".next-slide").click(function(){
            $("#myCarousel").carousel('next');
        });
        // 循环轮播到某个特定的帧
        $(".slide-one").click(function(){
            $("#myCarousel").carousel(0);
        });
        $(".slide-two").click(function(){
            $("#myCarousel").carousel(1);
        });
        $(".slide-three").click(function(){
            $("#myCarousel").carousel(2);
        });
    });

</script>

<!-- 控制按钮
<div style="text-align:center;">
    <input type="button" class="btn start-slide" value="Start">
    <input type="button" class="btn pause-slide" value="Pause">
    <input type="button" class="btn prev-slide" value="Previous Slide">
    <input type="button" class="btn next-slide" value="Next Slide">
    <input type="button" class="btn slide-one" value="Slide 1">
    <input type="button" class="btn slide-two" value="Slide 2">
    <input type="button" class="btn slide-three" value="Slide 3">
</div>

-->
</body>
</html>